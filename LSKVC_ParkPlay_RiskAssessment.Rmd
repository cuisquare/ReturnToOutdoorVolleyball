---
title: "LSKVC Return to Play (Outdoor) Risk Assessment"
author: "Nicolas Vecchione (Powerball Rep)"
date: "`r format(Sys.time(), '%d/%m/%Y')`"
output: 
  pdf_document:
    toc: true
    toc_depth: 2
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r source_functions, echo=FALSE,message=FALSE, warning=FALSE}
source("ProduceConfigurations.R")
```

# Motivation {-}

This document sets out the analysis undertaken in the organisation of LSKVC outdoor volleyball sessions, returning from the COVID19 hiatus. Its overarching aim is to provide means to reduce the risks of virus propagation, protecting our members and the general population and create the start of a sustainable way to play volleyball during the ongoing pandemic. 

The **Risk Assessment** outlines the specific risk assessment for our activity on top of the Volleyball England Risk Assessment which is generic (references to the Volleyball England documents are at the end of that section).

The Risk Assessment is based on:

* Volleyball England Return to Outdoor Volleyball Specific Action Plan ([link](https://media.volleyballengland.org/docs/Return%20to%20play%20outdoor%20volleyball%20-%20sport%20specific%20action%20plan.pdf))
* Return to recreational team sport framework ([link](https://www.gov.uk/government/publications/coronavirus-covid-19-guidance-on-phased-return-of-sport-and-recreation/return-to-recreational-team-sport-framework))
* Attendance to VE Webinar Return to Volleyball held on 06/08/20.

This Risk Assessment was used to inform the aspects of the **Players Rules** and **Club Requirements** which were specific to our park play activity. Those documents should be read alongside this one. 

The **Players Rules** document is available at *[https://github.com/cuisquare/ReturnToOutdoorVolleyball/blob/master/LSKVC_ParkPlay_PlayersRules.pdf](https://github.com/cuisquare/ReturnToOutdoorVolleyball/blob/master/LSKVC_ParkPlay_PlayersRules.pdf)*.

The **Club Requirements** document is available at  *[https://github.com/cuisquare/ReturnToOutdoorVolleyball/blob/master/LSKVC_ParkPlay_ClubRequirements.pdf](https://github.com/cuisquare/ReturnToOutdoorVolleyball/blob/master/LSKVC_ParkPlay_ClubRequirements.pdf)*.

\newpage
# Risk Assessment Matrix
## Approach

Hazards are identified with a Likelihood (L) of occurrence and Severity (S) should they occur. The Risk (R) is the product L*S. Controls are put into place resulting in the residual Risk (S,L,R). An acceptable Risk should be below 6.

## Risk Assessment Matrix
```{r risk_assessment_risks, echo=FALSE,message=FALSE, warning=FALSE}

#\\makecell[l]{group 1.1\\\\group1.2}
Hazards <- get_new_Hazard(Hazard="Transfer of virus via equipment used in session ",
                 Persons_Affected = "Athletes\nPublic",
                 Likelihood_Before = 3,
                 Severity_Before = 4,
                 Controls = "• Cleaning and wiping down all equipment with sanitiser before and after sessions\n• Having a limited number of balls to reduce overall risk of transfer",
                 Likelihood_After = 2,
                 Severity_After = 3)

Hazards <- Hazards %>% add_new_hazard(Hazard="Transfer of virus as a result of increased interaction between athletes including public ",
                           Persons_Affected = "Athletes\nPublic",
                           Likelihood_Before = 3,
                           Severity_Before = 4,
                           Controls = "• Limit number of people in sessions.\n• Athletes to avoid all unnecessary contact such as handshakes or hand slaps.\n• Athletes to hand sanitize during breaks.\n• Athletes to avoid sharing all personal equipment (drinking bottles, therabands, towels etc.)\n• Athletes to keep their belongings at least two metres apart.\n• Travel to sessions under government guidelines with social distance.",
                           Likelihood_After = 2,
                           Severity_After = 3)

Hazards <- Hazards %>% add_new_hazard(Hazard="Increased exposure due to play being scrappier in park compared to coached sessions and game scenario used in Volleyball England to determine exposure rate",
                           Persons_Affected = "Athletes",
                           Likelihood_Before = 3,
                           Severity_Before = 4,
                           Controls = "• All of the above\n• Reduce the number of sets played according to the number of players per team (See Risk Assessment Analysis)",
                           Likelihood_After = 2,
                           Severity_After = 3)

```


```{r risk_assessment_table, echo=FALSE,message=FALSE, warning=FALSE}
library(knitr)
devtools::dev_mode(on=T)
devtools::install_github("haozhu233/kableExtra")
library(kableExtra)
Hazards %>%
  kable("latex", 
        caption="Risk Assessment Park Play",
        escape = F,
        longtable = T) %>%
  kable_styling(full_width = F) %>%  
  column_spec(1, width = "13em",border_left=T) %>%
  column_spec(2, width = "4em")%>%
  column_spec(3, width = "0.5em")%>%
  column_spec(4, width = "0.5em")%>%
  column_spec(5, width = "0.5em")%>%
  column_spec(6, width = "13em")%>%
  column_spec(7, width = "0.5em")%>%
  column_spec(8, width = "0.5em")%>%
  column_spec(9, width = "0.5em",border_right = T) %>%
  kable_styling(latex_options = c("striped", "HOLD_position","repeat_header"),
                repeat_header_continued = T) %>%
  add_header_above(c(" " = 1," " = 1, "Before" = 3," " = 1, "After" = 3),line=T,border_left=T,border_right = T) #%>%  row_spec(0, angle = 90) 
devtools::dev_mode(on=F) 
```

\newpage
# Risk Assessment Analysis

## Background

We are looking to adapt the measures from the ones outlined by the return to sport document as a minimum, to one that compensate for aspects of our play that differs from the conditions under which the analysis was made. VE analysis was ran as mandated by gvt Return to Sport. See references for links to those. 

VE study concluded that a normal volleyball game of 6v6 on a 9 by 9 metres court would result in a 1 minutes per 20m set virus exposure for each player, totaling 5 minutes exposure for a full 5 sets game. This was used to justify the exposure risk as being medium as defined by Return to Sport. This approach was accepted and validated by the sport governing body. We have based the risk assessment in the play configurations required to attain a similar level of exposure to the virus as the one in the study.

## Method

An estimation of the virus exposure is derived as a function of the court size, number of players per team and set duration. VE Study was for 6v6 game in a 9 metres x 9 metres court. Basically if the court gets smaller, or the number of players increases, then the exposure increases.

A reference weighted exposure $r_e^*$ is derived by considering duration of exposure per duration of playing time per player per court surface. The values for the Volleyball England study were an exposure time $Te^*=1min$ per set of $T{play}^*=20min$. The court side was $L^*=9m$ and the number of players per team was $N_{team}^*=6$. 


$$r_e^*=\frac{T_e^*}{T_{play}^*\frac{N_{team}^*}{L^{*2}}}$$

To obtain the duration of exposure $Te$ for our specific park activity, we multiply the reference weighted exposure by the parameters corresponding to our specific activity : $T_{play}$ play duration in minutes, court side $L$ in metres and $N_{team}$ the number of players per team.

We also multiply that exposure time by a safety factor equal to `r safety_factor` to account for a scrappier play in the park compared to what was obtained the in VE study which was quoted in the webinar held on 06/08 to be national league finals games.

$$T_e =T_{play}\frac{N_{team}}{L^2}r_e^*S_f$$

Obviously this choice constitutes an educated guess, and the actual exposure time should be validated by observation of typical park play which is an exercise that has not been carried out so far.

Example 1: in the case of a 6v6 play on a 9mx9m court, for a set duration of 15 minutes, the exposure will be $Te^*=$ `r get_set_exposure_VEAsRef(9,6,15,1.0) ` minutes - the exposure is a bit less than the VE reference of 1 minute because  the set is shorter, everything else being equal.

Example 2: in the case of a 6v6 play on a 8mx8m court, for a set duration of 20 minutes, the exposure will be $Te^*=$ `r get_set_exposure_VEAsRef(8,6,20,1.0) ` minutes - the exposure is a bit larger than the VE reference of 1 minute because the court is smaller, everything else being equal.

Example 3: in the case of a 6v6 play on a 8mx8m court, for a set duration of 20 minutes, safety factor of 1.5, the exposure will be $Te^*=$ `r get_set_exposure_VEAsRef(8,6,20,1.5) ` minutes - the exposure is larger than Example 2 because the play is scrappier, everything else being equal.

Based on this it is possible to calculate the maximum advisable number of sets per player depending on the chosen acceptable virus exposure per session. 

$$N_{set}^{max} =\frac{T_{e}^{max}}{T_{set}\frac{N_{team}}{L^2}r_e^*S_f} $$

Example 1 (continued): in the case of a 6v6 play on a 9mx9m court, for a set duration of 15 minutes, the maximum number of sets per player will be $N_{set}^{max}=$ `r get_max_nb_sets_per_player(9,6,15,1.0,5)` sets. This is a bit more than the 5 sets in the VE reference because the sets are shorter, everything else being equal.

Example 2 (continued): in the case of a 6v6 play on a 8mx8m court, for a set duration of 20 minutes, the maximum number of sets per player will be $N_{set}^{max}=$ `r get_max_nb_sets_per_player(8,6,20,1.0,5)` sets. This is a bit less than the 5 sets in the VE reference because the court is smaller, everything else being equal. 

Example 3 (continued): in the case of a 6v6 play on a 8mx8m court, for a set duration of 20 minutes, safety factor of 1.5, the maximum number of sets per player will be $N_{set}^{max}=$ `r get_max_nb_sets_per_player(8,6,20,1.5,5)` sets. This is less than Example 3 because the play is scrappier, everything else being equal. 

As a default in this risk assessment, the acceptable total exposure per session was considered to be **`r max_exposure` minutes**. This compares to the value of *5 minutes* measured for the VE study and *15 minutes* for the Return to Sport maximum for a Medium risk.   

The rationale for that choice is that we want to remain under the value mandated by government for a medium risk (as this is a requirement of return to sport) with some allowance.

It is necessary that the $N_{set}^{max}$ is obtained from the results table below and enforced either organically by a careful choice of session duration and numbers cap or by monitoring as an alternative.

## Results

Below are tables giving $N_{set}^{max}$ (and noted NSM) using the method above for a few choices of number of players per team, number of courts, set duration. 

Please use the column NSM for the maximum recommended number of sets per player for each configuration. 

### Definitions

```{r add_abbreviations_table, echo=FALSE,message=FALSE, warning=FALSE}
#adding abbreviation table
library(knitr)
library(kableExtra)
kable(x=definitions,caption="Acronyms",format = "latex", booktabs = T,linesep = "") %>%
  kable_styling(latex_options = c("striped", "hold_position"))

```

### 30 players
```{r add_results_table_singlenet_30, echo=FALSE,message=FALSE, warning=FALSE}
#adding results table
library(knitr)
library(kableExtra)

kable(x=play_cases_30,format = "latex", booktabs = T,linesep = "",caption="Park Play Configurations - 30 players") %>%
  kable_styling(latex_options = c("striped", "scale_down", "HOLD_position"))%>%
  add_header_above(c(" " = 1, "Inputs" = 7, "Ouputs" = 4)) #%>%  landscape()

``` 

### 24 players
```{r add_results_table_singlenet_24, echo=FALSE,message=FALSE, warning=FALSE}
#adding results table
library(knitr)
library(kableExtra)

kable(x=play_cases_24,format = "latex", booktabs = T,linesep = "",caption="Park Play Configurations - 24 players") %>%
  kable_styling(latex_options = c("striped", "scale_down", "HOLD_position"))%>%
  add_header_above(c(" " = 1, "Inputs" = 7, "Ouputs" = 4)) #%>%  landscape()

``` 

### 12 players
```{r add_results_table_singlenet_12, echo=FALSE,message=FALSE, warning=FALSE}
#adding results table
library(knitr)
library(kableExtra)

kable(x=play_cases_12,format = "latex", booktabs = T,linesep = "",caption="Park Play Configurations - 12 players") %>%
  kable_styling(latex_options = c("striped", "scale_down", "HOLD_position"))%>%
  add_header_above(c(" " = 1, "Inputs" = 7, "Ouputs" = 4)) #%>%  landscape()

``` 

### 8 players
```{r add_results_table_singlenet_8, echo=FALSE,message=FALSE, warning=FALSE}
#adding results table
library(knitr)
library(kableExtra)

kable(x=play_cases_8,format = "latex", booktabs = T,linesep = "",caption="Park Play Configurations - 8 players") %>%
  kable_styling(latex_options = c("striped", "scale_down", "HOLD_position"))%>%
  add_header_above(c(" " = 1, "Inputs" = 7, "Ouputs" = 4)) #%>%  landscape()

``` 

### All configurations

```{r add_results_table_ALL, echo=FALSE,message=FALSE, warning=FALSE}
#adding results table
library(knitr)
library(kableExtra)

kable(x=play_cases_all,format = "latex", booktabs = T,linesep = "",caption="Park Play Configurations - All") %>%
  kable_styling(latex_options = c("striped", "scale_down", "HOLD_position","repeat_header"))%>%
  add_header_above(c(" " = 1, "Inputs" = 7, "Ouputs" = 4)) #, longtable = T

``` 

First line is the case reproducing the results obtained from measurement by Volleyball England which validates the formula used as we obtained 1 minute exposure per set of 20 minutes. The rest are cases calculated specifically for our purpose of park play.


## References
[Analysis/return to sport doc link](https://media.volleyballengland.org/docs/Return%20to%20play%20outdoor%20volleyball%20-%20sport%20specific%20action%20plan.pdf )

[Volleyball England Risk assessment link](https://media.volleyballengland.org/docs/Return%20to%20play%20outdoor%20volleyball%20-%20risk%20assessment.pdf) 

[Volleyball England Return to sport webinar  link tbc]() 

[Return to Sport Guidance link](https://www.gov.uk/government/publications/coronavirus-covid-19-guidance-on-phased-return-of-sport-and-recreation/return-to-recreational-team-sport-framework )

